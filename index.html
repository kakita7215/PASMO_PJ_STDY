<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ESP32 Alarm</title>
</head>
<body>
<h3>アラーム設定</h3>

<input type="time" id="alarmTime">
<label>
  <input type="checkbox" id="alarmEnable"> アラーム有効
</label>
<button onclick="sendAlarm()">送信</button>

<script>
const ws = new WebSocket("wss://pasmo-pj-stdy.onrender.com/");

function sendAlarm() {
  const t = document.getElementById("alarmTime").value;
  if (!t) return;
  const [h, m] = t.split(":");

  ws.send(JSON.stringify({
    type: "alarm",
    hour: parseInt(h),
    minute: parseInt(m),
    enabled: document.getElementById("alarmEnable").checked
  }));
}
</script>
</body>
</html>
